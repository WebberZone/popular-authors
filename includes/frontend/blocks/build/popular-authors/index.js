(()=>{"use strict";var e={n:t=>{var l=t&&t.__esModule?()=>t.default:()=>t;return e.d(l,{a:l}),l},d:(t,l)=>{for(var a in l)e.o(l,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:l[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.blocks,l=window.React,a=window.wp.i18n,o=window.wp.serverSideRender;var r=e.n(o);const n=window.wp.blockEditor,u=window.wp.components,s=(e,t,l)=>()=>{e({[l]:!t[l]})},p=(e,t)=>l=>{["number","offset","daily_range","hour_range"].includes(t)&&(l=""===l?0:parseInt(l,10)),e({[t]:l})},h=({attributes:e,setAttributes:t})=>{const{number:o,offset:r,showOptionCount:n,other_attributes:h}=e;return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(u.PanelRow,null,(0,l.createElement)(u.TextControl,{type:"number",label:(0,a.__)("Max authors to display","popular-authors"),value:o,onChange:p(t,"number"),help:(0,a.__)("Value -1 (all authors) is supported, but should be used with caution on larger sites.","popular-authors"),min:-1})),(0,l.createElement)(u.PanelRow,null,(0,l.createElement)(u.TextControl,{type:"number",label:(0,a.__)("Offset","popular-authors"),value:r,onChange:p(t,"offset"),help:(0,a.__)("Number of authors to offset in retrieved results. Only applies if number of authors set above is >0","popular-authors"),min:0})),(0,l.createElement)(u.PanelRow,null,(0,l.createElement)(u.ToggleControl,{label:(0,a.__)("Show count","popular-authors"),help:n?(0,a.__)("Count displayed","popular-authors"):(0,a.__)("No count displayed","popular-authors"),checked:n,onChange:s(t,e,"showOptionCount")})),(0,l.createElement)(u.PanelRow,null,(0,l.createElement)(u.TextareaControl,{label:(0,a.__)("Other attributes","popular-authors"),value:h,onChange:p(t,"other_attributes"),help:(0,a.__)("Enter other attributes in a URL-style string-query.","popular-authors")})))},i=({attributes:e,setAttributes:t})=>{const{daily:o,daily_range:r,hour_range:n}=e;return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(u.PanelRow,null,(0,l.createElement)(u.ToggleControl,{label:(0,a.__)("Custom period?","top-10"),help:o?(0,a.__)("Set range below","top-10"):(0,a.__)("Overall popular posts will be shown","top-10"),checked:o,onChange:s(t,e,"daily")})),o&&(0,l.createElement)(l.Fragment,null,(0,l.createElement)(u.PanelRow,null,(0,l.createElement)(u.TextControl,{type:"number",label:(0,a.__)("Daily range","top-10"),value:r,onChange:p(t,"daily_range"),help:(0,a.__)("Number of days","top-10"),min:0})),(0,l.createElement)(u.PanelRow,null,(0,l.createElement)(u.TextControl,{type:"number",label:(0,a.__)("Hour range","top-10"),value:n,onChange:p(t,"hour_range"),help:(0,a.__)("Number of hours","top-10"),min:0}))))},c=({attributes:e,setAttributes:t})=>{const{showFullName:o,showAvatar:r,excludeAdmin:n,hideEmptyAuthors:h,include:i,exclude:c}=e;return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(u.PanelRow,null,(0,l.createElement)(u.ToggleControl,{label:(0,a.__)("Show Full Name","popular-authors"),help:o?(0,a.__)("Full Name is displayed","popular-authors"):(0,a.__)("Display Name is displayed","popular-authors"),checked:o,onChange:s(t,e,"showFullName")})),(0,l.createElement)(u.PanelRow,null,(0,l.createElement)(u.ToggleControl,{label:(0,a.__)("Show Avatar","popular-authors"),help:r?(0,a.__)("Avatar displayed","popular-authors"):(0,a.__)("No avatar displayed","popular-authors"),checked:r,onChange:s(t,e,"showAvatar")})),(0,l.createElement)(u.PanelRow,null,(0,l.createElement)(u.ToggleControl,{label:(0,a.__)("Exclude admin","popular-authors"),help:n?(0,a.__)("'admin' account is excluded","popular-authors"):(0,a.__)("'admin' account is included","popular-authors"),checked:n,onChange:s(t,e,"excludeAdmin")})),(0,l.createElement)(u.PanelRow,null,(0,l.createElement)(u.ToggleControl,{label:(0,a.__)("Hide authors with no posts","popular-authors"),help:h?(0,a.__)("Authors with no posts are excluded","popular-authors"):(0,a.__)("Authors with no posts are included","popular-authors"),checked:h,onChange:s(t,e,"hideEmptyAuthors")})),(0,l.createElement)(u.PanelRow,null,(0,l.createElement)(u.TextControl,{label:(0,a.__)("Author IDs to include","popular-authors"),value:i,onChange:p(t,"include"),help:(0,a.__)("Comma-separated list of author IDs to include. This has priority over exclude.","popular-authors")})),(0,l.createElement)(u.PanelRow,null,(0,l.createElement)(u.TextControl,{label:(0,a.__)("Author IDs to exclude","popular-authors"),value:c,onChange:p(t,"exclude"),help:(0,a.__)("Comma-separated list of author IDs to exclude","popular-authors")})))};(0,t.registerBlockType)("popular-authors/popular-authors",{edit:function({attributes:e,setAttributes:t}){const o=(0,n.useBlockProps)();return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(n.InspectorControls,null,(0,l.createElement)(u.PanelBody,{title:(0,a.__)("Popular Authors Settings","popular-authors"),initialOpen:!0},(0,l.createElement)(h,{attributes:e,setAttributes:t}),(0,l.createElement)(i,{attributes:e,setAttributes:t}),(0,l.createElement)(c,{attributes:e,setAttributes:t}))),(0,l.createElement)("div",{...o},(0,l.createElement)(u.Disabled,null,(0,l.createElement)(r(),{block:"popular-authors/popular-authors",attributes:e}))))},save:()=>null})})();